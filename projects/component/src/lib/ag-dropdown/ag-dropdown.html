<div
  class=" ag-dropdown"
  tabindex="1"
  [ngClass]="{
  'darkTheme': darkTheme(),
  'hidden': hidden(),
  'disabled': disabled()
}"
>
  <label class=" ag-dropdown-label" [class.hidden]="label().length === 0"
    >{{label()}}</label
  >
  <div class=" ag-dropdown-container">
    <div class="inner-container">
      <button
        #portalContainer
        class="button"
        [ngClass]="{
        'darkTheme' : darkTheme(),
        'small': small(),
        'readonly': items().length === 0
      }"
        (keydown)="onKeyDown($event)"
        [attr.aria-label]="ariaLabel || null"
        [attr.aria-labelledby]="ariaLabelledBy || null"
        [attr.aria-multiselectable]="false"
        (click)="onOpen($event)"
      >
        {{ displayItem?.[textField()]}}
        <ag-icon
          [class]="icon.name"
          (onClick)="onOpen($event)"
        ></ag-icon>
      </button>
    </div>
  </div>
</div>
<ng-template #portalView let-data>
  <ul
    class=" ag-dropdown-items"
    [ngClass]="{
    'darkTheme' : darkTheme(),
    'small': small()
  }"
  >
    <li
      *ngFor="let item of items()"
      class=" ag-dropdown-item"
      [ngClass]="{
          'darkTheme' : darkTheme(),
          'small': small(),
          'hidden': item?.hidden,
          'disabled': item?.disabled,
          'active': item?.active
        }"
      (click)="onClose(item)"
      [title]="item[textField()]"
    >
      {{ item[textField()] }}
    </li>
  </ul>
</ng-template>
